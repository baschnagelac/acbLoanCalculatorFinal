<!DOCTYPE html>
<html lang="en">

<!--The head tag describes our html page-->

<head>
    <title>Mortgage Compass: A Coding Challenge by Anna Baschnagel</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Allan:wght@400;700&family=Barlow+Condensed:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&family=Bebas+Neue&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;1,100;1,200;1,300;1,400&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <!-- bootstrap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <!-- bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

    <!-- Devicons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">

    <!-- custom css -->
    <link href="/css/prism.css" rel="stylesheet" />
    <link href="/css/site.css" rel="stylesheet" />
</head>


<!--The body tag will contain all of the page content-->

<body>
    <header>
        <!-- ==== Nav Section ==== -->
        <nav class="navbar navbar-expand-lg" id="mainNav">
            <div class="container-fluid">
                <a class="navbar-brand fs-1" href="/index.html"><img
                        src="/img/For Web/svg/White logo - no background.svg" height="100" />
                    <span class="ms-5 app-name">Mortgage Compass</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon-acb">
                        <i class="bi bi-list"></i>
                    </span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item ">
                            <a class="nav-link" href="/index.html">Home</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="/app.html">The App</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link active" aria-current="page" href="/code.html">The Code</a>
                        </li>
                        <!-- ADD THIS IN BEFORE PUBLISHING -->
                        <li class="nav-item ">
                            <a class="nav-link" href="https://github.com/baschnagelac/acbLoanCalculatorFinal.git" target="_blank">The Repo</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="https://annabaschnagelportfolio.netlify.app/" target="_blank">About</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="#">Blog</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>


    <!-- ==== Main Section ==== -->


    <main class="content container  mt-5">
        <div class="row row-cols-1 row-cols-lg-2 p-3">
            <h1 class=" border-bottom border-2 border-dark">The Code for Mortgage Compass</h1>
            <!-- source code -->
            <div class="col-12 col-lg-8">
                <pre class="line-numbers">
                        <code class="language-javascript ">
 
                            function calculateRemaingBalance() { //remaining balance before very first month
                                let loanAmount = document.getElementById('loanAmount').value;
                            
                                let totalPrincipalResults = document.getElementById('totalPrincipalResults');
                            
                                loanAmount = parseInt(loanAmount);
                            
                                if (isNaN(loanAmount)) {
                                    alert("Numbers only, please!");
                                } else {
                                    let totalPrincipal = loanAmount;
                                    totalPrincipalResults.textContent = totalPrincipal;
                            
                                    document.getElementById('totalPrincipalResults').textContent = totalPrincipalResults.toLocaleString();
                                }
                            
                            }
                            //calculate total monthly payments
                            function calculateTotalMonthlyPayments() {
                            
                                let loanAmount = document.getElementById('loanAmount').value;
                                let interestRate = document.getElementById('interestRate').value;
                                let termLength = document.getElementById('termLength').value
                            
                                loanAmount = parseInt(loanAmount);
                                interestRate = parseInt(interestRate);
                                termLength = parseInt(termLength);
                            
                            
                                if (isNaN(loanAmount) || isNaN(interestRate) || isNaN(interestRate)) {
                                    alert("Numbers only, please!");
                                } else {
                                    let monthlyPayment = (loanAmount * (interestRate / 1200)) / (1 - ((1 + interestRate / 1200) ** -termLength))
                                    document.getElementById('yourMonthlyPaymentResults').textContent = Number(monthlyPayment).toLocaleString("en-US", {
                                        style: 'currency',
                                        currency: 'USD',
                                    });
                                    return monthlyPayment;
                                }
                            }
                            
                            
                            
                            //calculate interest payment
                            function calculateInterestPayment(remBalance) {
                                let loanAmount = document.getElementById('loanAmount').value;
                                let interestRate = document.getElementById('interestRate').value;
                            
                                loanAmount = parseInt(loanAmount);
                                interestRate = parseInt(interestRate);
                            
                                if (isNaN(loanAmount) || isNaN(interestRate)) {
                                    alert("Numbers only, please!");
                                } else {
                                    return remBalance * (interestRate / 1200)
                                }
                            }
                            //calculating total cost? 
                            function calculateTotalCost() {
                                let loanAmount = document.getElementById('loanAmount').value;
                                let interestRate = document.getElementById('interestRate').value;
                            
                                loanAmount = parseInt(loanAmount);
                                interestRate = parseInt(interestRate);
                            
                                if (isNaN(loanAmount) || isNaN(interestRate)) {
                                    alert("Numbers only, please!");
                                } else {
                                    return loanAmount + interestRate * 1200;
                                }
                            
                                let totalCost = loanAmount + interestRate * 1200;
                                document.getElementById('totalCostResults').textContent = totalCostResults.toLocaleString("en-US", {
                                    style: 'currency',
                                    currency: 'USD',
                                });
                                return totalCost
                            
                            
                            }
                            
                            //get loan payment schedule by month 
                            function createPaymentSchedule() {
                                let loanAmount = document.getElementById('loanAmount').value;
                                let interestRate = document.getElementById('interestRate').value;
                                let termLength = document.getElementById('termLength').value
                            
                                loanAmount = parseFloat(loanAmount);
                                interestRate = parseFloat(interestRate);
                                termLength = parseInt(termLength);
                            
                            
                                //make table 
                                let outputTableBody = document.getElementById('outputTableBody');
                                const outputTableRowTemplate = document.getElementById('outputTableRowTemplate');
                            
                            
                                //clear table body 
                                outputTableBody.innerHTML = '';
                            
                                //variables for the monthly payment schedule - start from 0
                                let totalMonthlyPayment = calculateTotalMonthlyPayments();
                                let remBalance = loanAmount;
                                let totalInterest = 0;
                                let principalPayment = 0;
                                let monthlyInterest = 0;
                            
                                //create a for loop to break up into EACH month
                                for (month = 1; month <= termLength; month++) {
                                    monthlyInterest = calculateInterestPayment(remBalance);
                                    totalInterest += monthlyInterest;
                                    principalPayment = totalMonthlyPayment - monthlyInterest;
                                    remBalance = remBalance - principalPayment;
                            
                                    let monthlyRow = document.importNode(outputTableRowTemplate.content, true);
                            
                                    let tableCells = monthlyRow.querySelectorAll('td');
                            
                                    tableCells[0].textContent = month;
                                    tableCells[1].textContent = totalMonthlyPayment.toLocaleString("en-US", {
                                        style: 'currency',
                                        currency: 'USD',
                                    });
                                    tableCells[2].textContent = principalPayment.toLocaleString("en-US", {
                                        style: 'currency',
                                        currency: 'USD',
                                    });
                                    tableCells[3].textContent = monthlyInterest.toLocaleString("en-US", {
                                        style: 'currency',
                                        currency: 'USD',
                                    });
                                    tableCells[4].textContent = totalInterest.toLocaleString("en-US", {
                                        style: 'currency',
                                        currency: 'USD',
                                    });
                                    tableCells[5].textContent = remBalance.toLocaleString("en-US", {
                                        style: 'currency',
                                        currency: 'USD',
                                    });
                            
                                    outputTableBody.appendChild(monthlyRow);
                            
                            
                                }
                            
                                document.getElementById('totalPrincipalResults').textContent = totalPrincipalResults.toLocaleString("en-US", {
                                    style: 'currency',
                                    currency: 'USD',
                                });
                                document.getElementById('totalInterestResults').textContent = totalInterest.toLocaleString("en-US", {
                                    style: 'currency',
                                    currency: 'USD',
                                });
                                document.getElementById('totalCostResults').textContent = totalCost.toLocaleString("en-US", {
                                    style: 'currency',
                                    currency: 'USD',
                                });
                            
                            
                            }
                            
                        </code>
                    </pre>
            </div>
            <!-- code description -->
            <div class="col-12 col-lg-4">
                <h5 class="fs-2">The code is structured in three functions</h5>
                <p>Please Note: Some of the characters may not display correectly, please see the Repo link in the
                    navigation menu for the full details.</p>

                    <code>function calculateX()</code>
                <p>There are four main calculation functions used in this mortgage calculator. 1. Calculate remaining
                balance 2. Calculate total monthly payments 3. Calculate interest Payment 4. Calculate total cost. These
                functions begin by getting the user's inputs for the ID's relating to: loan amount, interest rate, term
                length of loan. All of these calculation functions also parse's the inputs out of string-form and then
                verifies if they're integers via if/else statements. If they are integers, then relevant forumulas are
                used to do math calculations within the calculation functions. This data will be used in the controller
                function next.</p>

                <code>function createPaymentSchedule</code>
                <p>The main function of this function is to create a monthly payment schedule for the loan payments. This
                function begins by taking the user's loan amount, interest rate, and term length from their input
                values. It parses them into integers. Then it makes a table for the output of the schedule so the user
                can view all the months together. The table is cleared so that there is no other data for the user to
                see. Variables for various aspects of the calculations are set -- most start from 0, but a couple use
                calculations in previous functinos in the program. Next, a for loop is used to break up the data into
                EACH month. The HTML template is then imported into the program so that tableCells with textContent can
                display with the propery currency styling. The child of the table is appended into rows. Lastly, the
                totals for principal, interest, and costs are called to display.</p>

            </div>
        </div>
    </main>


    <!-- ==== Footer Section ==== -->
    <footer class="container-fluid mt-5">
        <div class="row footer-bg-cta">
            <div class="col">
                <div class="container py-2 footer-cta">
                    <div class="row row-cols-1 align-items-center">
                        <div class="col p-2 text-center">
                            <h1 class="footcta ftfix">Let's Work Together</h1>
                            <h4>Need something done? I'm open to new opportunities and ready
                                to work!</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row align-items-center footer-main">
            <div class="container">
                <div class="row align-items-center gy-2">
                    <div
                        class="col d-flex m-2 justify-content-center justify-content-md-start order-last order-md-first">
                        &copy; 2023 Anna Baschnagel
                    </div>
                    <div class="col d-flex justify-content-center">
                        <img src="/img/For Web/png/White logo - no background.png" height="75" class="mb-2" />
                    </div>
                    <div class="col-12 col-md d-flex justify-content-center justify-content-md-end m-2">
                        <a href="#" target="_blank" class="socialicons"><i class="bi bi-linkedin p-2"></i></a>
                        <a href="#" target="_blank" class="socialicons"><i class="bi bi-twitter p-2"></i></a>
                        <a href="#" target="_blank" class="socialicons"><i class="bi bi-youtube p-2"></i></a>
                        <a href="#" target="_blank" class="socialicons"><i class="bi bi-instagram p-2"></i></a>
                        <!--<a href="mailto:baschnagelac@gmail.com" target="_blank"><i class="bi bi-mail"></i></a> -->

                    </div>
                </div>
            </div>
        </div>
    </footer>


    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script src="js/site.js"></script>
    <script src="js/prism.js"></script>
    <script>
        Prism.plugins.NormalizeWhitespace.setDefaults({
            'remove-trailing': true,
            'remove-indent': true,
            'left-trim': true,
            'right-trim': true
        });
    </script>
</body>


</html>